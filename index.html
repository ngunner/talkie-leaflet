<!DOCTYPE html>
<html>
  <head>
    <meta charset=utf-8 />
    <title>A simple leaflet map with Talkie by Kiln.it</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    
    <!-- Mapbox -->
    <script src='https://api.tiles.mapbox.com/mapbox.js/v1.6.4/mapbox.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox.js/v1.6.4/mapbox.css' rel='stylesheet' />
    
    <!-- Talkie by Kiln.it as well as D3-->
    <link rel="stylesheet" type="text/css" href="http://kiln.it/talkie/ui/1.0/talkie.css">
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="http://kiln.it/talkie-1.min.js"></script>
    
    <style>
       body { margin:0; padding:0; }
       #map { position:absolute; top:30px; bottom:0; width:100%; }
    </style>
  </head>
  <body>
    
    <!-- Audio to interact with the map -->
    <div id="controls"></div>
    <audio id="soundtrack" controls="controls">
    <source src="http://orbitist.s3.amazonaws.com/2014/07-talkie-test/Talkie%20Test.ogg" type="audio/ogg">
    <source src="http://orbitist.s3.amazonaws.com/2014/07-talkie-test/Talkie%20Test.mp3" type="audio/mpeg">
    </audio>

    <div id='map'></div>
    
      <!-- Mapbox example map -->
      <script>
        var map = L.mapbox.map('map', 'examples.map-i86nkdio')
        .setView([42.44, -79.33], 9);
      </script>
      
      <!-- Talkie timeline config -->
      <script>
        Talkie.timeline("#soundtrack", {
        "00:13": map.setView(new L.LatLng(40.737, -73.923), 8),
        "00:17": map.setView(new L.LatLng(40.737, -73.923), 7),
        "00:20": map.setView(new L.LatLng(40.737, -73.923), 2),
        "00:24": map.setView(new L.LatLng(40.737, -73.923), 5),
        "00:28": map.setView(new L.LatLng(42.44, -79.33), 17)
      });
      </script>
  </body>
</html>
